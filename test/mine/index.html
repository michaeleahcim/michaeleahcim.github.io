
<!DOCTYPE HTML>
<html>
<head>
<title>Made with Pixi JS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../bin/pixi.dev.js"></script>
<link rel="stylesheet" type="text/css" href="main.css">
</head>

<body>

<div id="container">



<script>
// setting the stage

var container = document.getElementById("container");
var stage = new PIXI.Stage(0x1E1F1E);

var windowwidth = window.innerWidth;
var windowheight = 620;

var renderer = PIXI.autoDetectRenderer(windowwidth, 600);

stage.interactive = true;

container.appendChild(renderer.view);
requestAnimFrame( animate );

var texture = PIXI.Texture.fromImage("bunny.png");
var starttexture = PIXI.Texture.fromImage("start.png");


var bunnyExists = false;

function works(){
    bunnyExists = true;
    bunny.buttonMode = true;
    bunny.interactive = true;
    stage.addChild(bunny);
 }



var bunny = new PIXI.Sprite(texture);
bunny.anchor.x = 0.5;
bunny.anchor.y = 0.5;
bunny.position.x = windowwidth/2;
bunny.position.y = -10;

bunny.mousedown = bunny.touchstart = function(data) {
    this.isdown = true;
    this.alpha = 1;
    stage.removeChild(bunny);
    bunnyExists = false;

    bunny3Exists = true;
    bunny3.buttonMode = true;
    bunny3.interactive = true;
    stage.addChild(bunny3);
};

// Bunny 3
var bunny3 = new PIXI.Sprite(starttexture);
bunny3.anchor.x = 0.5;
bunny3.anchor.y = 0.5;
bunny3.position.x = windowwidth/2;
bunny3.position.y = windowheight/2;

bunny3Exists = true;
bunny3.buttonMode = true;
bunny3.interactive = true;
stage.addChild(bunny3);


bunny3.mousedown = bunny3.touchstart = function(data) {
    this.isdown = true;
    this.alpha = 1;
    stage.removeChild(bunny3);
    bunnyExists = false;
    

    works();
};


var bunnyHitsFloor = 0;
// object animation
function animate() {
    requestAnimFrame( animate );

    if (bunnyExists){
        if (bunny.position.y < windowheight){
            bunny.position.y += 3;
        }

        else {
            bunny.position.y = -10;
            bunnyHitsFloor += 1;
        }
    }

    else{
        bunny.position.y = -10;
    }

    if (bunnyHitsFloor == 3) {
        stage.removeChild(bunny);
        bunnyExists = false;

        bunny3Exists = true;
        bunny3.buttonMode = true;
        bunny3.interactive = true;
        stage.addChild(bunny3);
    }

    renderer.render(stage);


}



</script>
</div>
<a href= "../../index.html" id="back"> Back </a>

</body>
</html>